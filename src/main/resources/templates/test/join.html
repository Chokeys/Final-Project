<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

</head>
<header style="padding: 100px; margin-right: 60px; margin-left: 500px; ">
    <div class="logo-wrap">
        <img src="/image/default.png">
    </div>

    <style>
        :root {
            --body-background-color: #f0f5f3;

        }


        * {
            margin: 0px;
            padding: 0px;

        }

        body {
            background: var(--body-background-color);
        }

        .input_height {
            height: 60px;
        }

        .font_size {
            font-size: 20px
        }

        .main-color {
            color: green;
        }
       
    </style>
</header>



<body>

    <div class="container">

        <form style="border: solid 2px green; padding: 80px; border-radius: 20px;">
            <div class="form-group">
                <h2>회원가입</h2><hr/><br/>
                <input type="id" class="form-control input_height font_size" id="id" aria-describedby="id"
                    placeholder="아이디"><br />
                <input type="password" class="form-control input_height font_size" id="pw" placeholder="비밀번호"><br />
                <input type="password" class="form-control input_height font_size" id="pw1" placeholder="비밀번호확인"><br />
                <input type="name" class="form-control input_height font_size" id="name" placeholder="이름"><br />
                <input type="email" class="form-control input_height font_size" id="email" placeholder="이메일"><br />
                <input type="phone" class="form-control input_height font_size" id="phone" placeholder="전화번호"><br />
                <input type="birth" class="form-control input_height font_size" id="birth" placeholder="생년월일"><br />

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                    <label class="form-check-label font_size" for="inlineCheckbox1">남성</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input " type="checkbox" id="inlineCheckbox2" value="option2">
                    <label class="form-check-label font_size" for="inlineCheckbox2">여성</label>
                </div>
            </div>
            <hr />
            <button type="submit" class="btn btn-success input_height font_size">회원가입</button>
    </div>
    </form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.5/axios.min.js">
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script>
        var idcheck = 0;

        async function joinAction() {
            const id = document.getElementById("id");
            const pw = document.getElementById("password");
            const pw1 = document.getElementById("password1");
            const name = document.getElementById("name");
            const email = document.getElementById("email");
            const phone = document.getElementById("phone");
            const gender = document.getElementsByName("gender");
            const birth = document.getElementById("birth");
            console.log(gender);

            if (id.value.length <= 0) {
                alert('아이디를 입력하세요');
                id.focus();
                return false;
            }
            if (pw.value.length <= 0) {
                alert('비밀번호를 입력하세요');
                pw.focus();
                return false;
            }
            if (pw1.value.length <= 0) {
                alert('비밀번호를 입력하세요');
                pw1.focus();
                return false;
            }
            if (name.value.length <= 0) {
                alert('이름을 입력하세요');
                name.focus();
                return false;
            }
            if (email.value.length <= 0) {
                alert('이메일을 입력하세요');
                email.focus();
                return false;
            }
            if (birth.value.length <= 0) {
                alert('생년월일을 입력하세요');
                birth.focus();
                return false;
            }

            if (pw.value !== pw1.value) {
                alert('비밀번호가 일치하지 않습니다.');
                pw.focus();
                return false;
            }
            if (idcheck === 0) {
                alert('다른고객이 사용중인 아이디 입니다.');
                id.focus();
                return false;
            }

            document.getElementById("form").submit();
        }


        async function ajaxIDCheck(e) {
            if (e.value.length > 0) {
                const url = '${pageContext.request.contextPath}/api/member/idcheck.json?id=' + e.value;
                const headers = { "Content-Type": "application/json" };
                const { data } = await axios.get(url, { headers });
                console.log(data);

                if (data.ret === 1) {
                    idcheck = 0;
                    document.getElementById("lbl_check").innerText = '사용불가';
                }
                else if (data.ret === 0) {
                    idcheck = 1;
                    document.getElementById("lbl_check").innerText = '사용가능';
                }
            }
            else {
                idcheck = 0;
                document.getElementById("lbl_check").innerText = '아이디';
            }
        }
    </script>
</body>

</html>